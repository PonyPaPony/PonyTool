# PonyTool üêé

PonyTool ‚Äî —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π CLI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Python-–ø—Ä–æ–µ–∫—Ç–∞–º–∏:
–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞, —Ç–µ—Å—Ç—ã, –æ—á–∏—Å—Ç–∫–∞, Git-–æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ —Ä–∞–±–æ—Ç–∞ —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ ‚Äî –≤—Å—ë –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
pip install ponytool
```

## –ö–æ–º–∞–Ω–¥—ã

### üì¶ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

```bash
pony project init
pony project init --name my_app
pony project init --no-git
```

* –°–æ–∑–¥–∞—ë—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—É—é):
```css
src/
tests/
docs/
README.md
.gitignore
```
* –ú–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å —Å–≤–æ—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É (–≤–∫–ª—é—á–∞—è –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –ø–∞–ø–∫–∏ –∏ .py-—Ñ–∞–π–ª—ã)
* –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Git

### üßπ –û—á–∏—Å—Ç–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
pony project clean
pony project clean --dry-run
pony project clean -y
```
* –£–¥–∞–ª—è–µ—Ç –∫—ç—à, coverage, build-–∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
* –°–ø–∏—Å–æ–∫ –æ—á–∏—â–∞–µ–º—ã—Ö –ø—É—Ç–µ–π –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ defaults.toml.

### üß™ –¢–µ—Å—Ç—ã

```bash
pony test run
pony test run -k api
pony test coverage
pony test coverage --html
```

* –¢–µ—Å—Ç—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ —Ç–µ–∫—É—â–∏–π Python (sys.executable).
* –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ pytest

### üå± Git

```bash
pony git init
pony git status
pony git push
pony git push -m "message"
pony git push --dry-run
pony git rollback
pony git doctor

```
* –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è ¬´—Å –Ω—É–ª—è¬ª
* –ù–∞—Å—Ç—Ä–æ–π–∫–∞ remote –∏ –ø–µ—Ä–≤–æ–≥–æ push
* –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (git doctor)
* –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –æ—Ç–∫–∞—Ç Git (rollback —É–¥–∞–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ .git)

## üìÑ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (requirements.txt)

* –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–∞–Ω–∞–ª–æ–≥ pip freeze)

```bash
pony req freeze
pony req freeze --dry-run
pony req freeze --force
```

* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ–∫—É—â–∏–π Python / venv
* –ò—Å–∫–ª—é—á–∞–µ—Ç —Å–ª—É–∂–µ–±–Ω—ã–µ –ø–∞–∫–µ—Ç—ã (pip, setuptools, wheel)

* –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–¥–∞ –ø—Ä–æ–µ–∫—Ç–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
pony req gen
pony req gen --dry-run
pony req gen --force
```

* **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç pony req gen:**

1. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–µ –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ–µ virtualenv

2. –ù–∞—Ö–æ–¥–∏—Ç site-packages

3. –°–∫–∞–Ω–∏—Ä—É–µ—Ç Python-—Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞

4. –ò–∑–≤–ª–µ–∫–∞–µ—Ç –∏–º–ø–æ—Ä—Ç—ã (ast)

5. –°–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–º–ø–æ—Ä—Ç—ã —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ –ø–∞–∫–µ—Ç–∞–º–∏

6. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç requirements.txt —Ç–æ–ª—å–∫–æ —Å —Ä–µ–∞–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏

* **–ü—Ä–∏–º–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:**
```text
# Generated by pony req gen
# Python: C:\...\python.exe
# Venv: C:\...\project\.venv

# used in 3 files
requests==2.32.5
```

## ü©∫ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pony req doctor
pony req doctor -v
pony req doctor --json
```

* **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:**

1. –Ω–∞–ª–∏—á–∏–µ Python –∏ virtualenv

2. –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å site-packages

3. –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤

4. –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã

5. —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–æ–≤ –∏ –ø–∞–∫–µ—Ç–æ–≤

6. –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–∞–∫–µ—Ç—ã

7. –∏–º–ø–æ—Ä—Ç—ã –±–µ–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

* **ponytool/config/defaults.toml**

```toml
[project.clean]
trash = ["__pycache__", ".pytest_cache", "htmlcov"]
```

* –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —á–µ—Ä–µ–∑ user.toml

## –§–∏–ª–æ—Å–æ—Ñ–∏—è –ø—Ä–æ–µ–∫—Ç–∞

* ‚ùå –Ω–∏–∫–∞–∫–æ–≥–æ —Ö–∞—Ä–¥–∫–æ–¥–∏–Ω–≥–∞ –ø—É—Ç–µ–π

* ‚ùå –Ω–∏–∫–∞–∫–æ–π –º–∞–≥–∏–∏ –±–µ–∑ –æ–±—ä—è—Å–Ω–µ–Ω–∏–π

* ‚úÖ –≤—Å—ë —á–µ—Ä–µ–∑ —Ä–µ–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä

* ‚úÖ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ dry-run –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

* ‚úÖ —á–∏—Ç–∞–µ–º—ã–π –∫–æ–¥ –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ